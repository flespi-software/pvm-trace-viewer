{"bytecode_name":"test-trace","files":[[1,"test-trace.pvm"]],"source":{"files":{"test-trace.pvm":"/*\n\n\ttest-trace devices protocol\n\n*/\n\nprotocol:\n\tdescription:\n\t\t[=[\n\t\ttest-trace Devices Protocol\n\t\t]=]\n\n\tattr:\n\t\tPRIVATE\n\n\tdevices:\n\t\t@generic[\"test-trace\"]\n\n\t\tconfiguration:\n\t\t\tident[CUSTOM]\n\ninput:\n\tflow:\n\t\tTCP:\n\t\t\t@login ==> @packet\n\n\t@login:\n\t\t<\"#L#\">\n\t\t[until=\"\\r\\n\"]:\n\t\t\t[until=\";\"] ==> %text ==> #ident\n\t\t\t%text ==> if this != \"NA\" ==> #password\n\t\t\tlogin\n\t\tsend:\n\t\t\t<\"#AL#1\\r\\n\">\n\n\t@packet:\n\t\t<\"#\">\n\t\t[until=\"\\r\\n\"]:\n\t\t\t[until=\"#\"] ==> %text ==> $packet_type\n\t\t\tswitch[$packet_type]:\n\t\t\t\t\"M\":\n\t\t\t\t\t%text ==> #driver.message\n\t\t\t\t\tstore\n\t\t\t\t\"C\":\n\t\t\t\t\t%text ==> cmdresult\n\t\t\t\t\"W\":\n\t\t\t\t\t[until=\":\"] ==> %text ==> $subject\n\t\t\t\t\t%text ==> warning[$subject]\n\t\t\t\t\"UW\":\n\t\t\t\t\t[until=\":\"] ==> %text ==> $subject\n\t\t\t\t\t%text ==> unsupported_warning[$subject]\n\t\t\t\t\"DI\":\n\t\t\t\t\t@device_info.setting.parse\n\t\t\t\t\"SF\":\n\t\t\t\t\tif <\"imei:\">:\n\t\t\t\t\t\t%text ==> :device_status.imei\n\t\t\t\t\telif <\"imsi:\">:\n\t\t\t\t\t\t%text ==> :device_status.imsi\n\t\t\t\t\telse:\n\t\t\t\t\t\tinvalid[\"setting field\"]\n\t\t\t\tdefault:\n\t\t\t\t\tinvalid[$packet_type]\n\t\t\tsend:\n\t\t\t\t<\"#A\">\n\t\t\t\t$packet_type\n\t\t\t\t<\"#1\\r\\n\">\n\ncommands:\n\t@custom[\"Custom command\", description=\"Send custom command to device\", result=false]:\n\t\toutput:\n\t\t\tCONNECTION\n\t\ttags:\n\t\t\t@custom\n\t\tparams:\n\t\t\t#text[\"Text payload\", REQUIRED] ==> %string\n\t\tsend:\n\t\t\t#text ==> %text\n\t\texamples:\n\t\t\tpass\n\nsettings:\n\ttab[\"Info\"]:\n\t\t@device_info[\"Device info\"]:\n\t\t\tdescription:\n\t\t\t\t\"Device info\"\n\t\t\tset:\n\t\t\t\tparams:\n\t\t\t\t\t:fw_ver[\"Firmware version\"] ==> %string\n\t\t\tparse:\n\t\t\t\t%text ==> :fw_ver\n\n\t\t@device_status[\"Device status\"]:\n\t\t\tdescription:\n\t\t\t\t\"Device status\"\n\t\t\tset:\n\t\t\t\tparams:\n\t\t\t\t\t:imei[\"IMEI\"] ==> %string\n\t\t\t\t\t:imsi[\"IMSI\", REQUIRED] ==> %string\n\t\t\tget:\n\t\t\t\t<\"#STATUS#?\\r\\n\">\n"},"mainfile":"test-trace.pvm"},"trace":[{"c":[1,24,3],"d":"234C23313233343B4E410D0A234D2368656C6C6F0D0A2357237375626A3A646174610D0A235557237375626A3A646174610D0A23444923332E31340D0A23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.764676},{"c":[1,24,3],"t":"l","v":[[2,1,"1"]]},{"c":[1,28,3],"l":0,"o":3,"t":"o"},{"c":[1,28,3],"t":"l"},{"c":[1,29,10],"t":"l"},{"c":[1,30,20],"l":3,"o":7,"t":"o"},{"c":[1,30,11],"l":7,"o":8,"t":"o"},{"c":[1,30,11],"t":"l"},{"c":[1,31,4],"l":8,"o":10,"t":"o"},{"c":[1,31,14],"t":"l","v":[[3,4,"\"NA\""]]},{"c":[1,32,4],"t":"l"},{"c":[1,7,1],"o":[{"a":{"t":"j","v":{"ident":"1234"}},"o":"login","r":{"t":"j","v":{"channel_cid":1,"channel_id":1,"connection_id":0,"device_type_id":1,"device_type_name":"test-trace","device_type_title":"test-trace","ident":"1234","protocol_cid":1,"protocol_id":1,"protocol_name":"test-trace"}},"s":0,"t":"interop"}],"t":"l","v":[0]},{"c":[1,29,10],"l":10,"o":12,"t":"o"},{"c":[1,29,10],"t":"l"},{"c":[1,33,3],"t":"l"},{"c":[1,34,4],"t":"l"},{"c":[1,33,3],"o":[{"a":{"t":"d","v":"23414C23310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,24,3],"d":"234D2368656C6C6F0D0A2357237375626A3A646174610D0A235557237375626A3A646174610D0A23444923332E31340D0A23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.764836},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":2,"t":"o"},{"c":[1,39,11],"l":2,"o":3,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"M\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"M\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,42,6],"l":3,"o":8,"t":"o"},{"c":[1,42,16],"o":[{"n":"driver.message","t":"param","v":"hello"}],"t":"l"},{"c":[1,43,6],"o":[{"a":{"t":"j","v":{"driver.message":"hello"}},"o":"regmsg","s":0,"t":"interop"}],"t":"l"},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"M\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"23414D23310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":8,"o":10,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"2357237375626A3A646174610D0A235557237375626A3A646174610D0A23444923332E31340D0A23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.764921},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":2,"t":"o"},{"c":[1,39,11],"l":2,"o":3,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"W\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"W\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,46,5],"t":"l"},{"c":[1,47,22],"l":3,"o":7,"t":"o"},{"c":[1,47,13],"l":7,"o":8,"t":"o"},{"c":[1,47,13],"t":"l","v":[[5,4,"\"subj\""]]},{"c":[1,48,6],"l":8,"o":12,"t":"o"},{"c":[1,48,16],"o":[{"a":{"t":"j","v":{"data":"ZGF0YQ=="}},"o":"warning","p":"000f5c [test-trace.pvm:48:16] in @packet: warning $subject: subj","s":0,"t":"interop"}],"t":"l","v":[[5,4,"\"subj\""]]},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"W\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"23415723310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":12,"o":14,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"235557237375626A3A646174610D0A23444923332E31340D0A23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.765098},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":3,"t":"o"},{"c":[1,39,11],"l":3,"o":4,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"UW\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"UW\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,46,5],"t":"l"},{"c":[1,49,5],"t":"l"},{"c":[1,50,22],"l":4,"o":8,"t":"o"},{"c":[1,50,13],"l":8,"o":9,"t":"o"},{"c":[1,50,13],"t":"l","v":[[5,4,"\"subj\""]]},{"c":[1,51,6],"l":9,"o":13,"t":"o"},{"c":[1,51,16],"o":[{"a":{"t":"j","v":{"data":"ZGF0YQ==","unsupported":true}},"o":"warning","p":"0014a4 [test-trace.pvm:51:16] in @packet: unsupported $subject: subj","s":0,"t":"interop"}],"t":"l","v":[[5,4,"\"subj\""]]},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"UW\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"2341555723310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":13,"o":15,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"23444923332E31340D0A23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.765194},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":3,"t":"o"},{"c":[1,39,11],"l":3,"o":4,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"DI\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"DI\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,46,5],"t":"l"},{"c":[1,49,5],"t":"l"},{"c":[1,52,5],"t":"l"},{"c":[1,53,6],"t":"l"},{"c":[1,89,4],"t":"l"},{"c":[1,90,5],"l":4,"o":8,"t":"o"},{"c":[1,90,15],"t":"l"},{"c":[1,89,4],"o":[{"a":{"t":"j","v":{"fw_ver":"3.14"}},"o":"settset","p":"device_info","s":0,"t":"interop"}],"t":"l"},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"DI\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"2341444923310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":8,"o":10,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"23534623696D65693A3132333435363738393031323334350D0A23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.765277},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":3,"t":"o"},{"c":[1,39,11],"l":3,"o":4,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,46,5],"t":"l"},{"c":[1,49,5],"t":"l"},{"c":[1,52,5],"t":"l"},{"c":[1,54,5],"t":"l"},{"c":[1,55,9],"l":4,"o":9,"t":"o"},{"c":[1,55,6],"t":"l"},{"c":[1,56,7],"l":9,"o":24,"t":"o"},{"c":[1,56,17],"t":"l","v":[[0,5,"true"]]},{"c":[1,55,6],"t":"l"},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"2341534623310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":24,"o":26,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"23534623696D73693A3132333435343332313233343536370D0A2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.765323},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"o":[{"a":{"t":"j","v":{"add":{"device_status":{"imei":"123456789012345"}}}},"o":"settmrg","s":0,"t":"interop"}],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":3,"t":"o"},{"c":[1,39,11],"l":3,"o":4,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,46,5],"t":"l"},{"c":[1,49,5],"t":"l"},{"c":[1,52,5],"t":"l"},{"c":[1,54,5],"t":"l"},{"c":[1,55,6],"t":"l"},{"c":[1,57,11],"l":4,"o":9,"t":"o"},{"c":[1,57,6],"t":"l"},{"c":[1,58,7],"l":9,"o":24,"t":"o"},{"c":[1,58,17],"t":"l","v":[[0,5,"true"]]},{"c":[1,55,6],"t":"l"},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"SF\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"2341534623310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":24,"o":26,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"2343236F6B0D0A494E56414C4944","o":0,"t":"n","tm":1760555535.765462},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"o":[{"a":{"t":"j","v":{"add":{"device_status":{"imei":"123456789012345","imsi":"123454321234567"}}}},"o":"settmrg","s":0,"t":"interop"}],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"l":0,"o":1,"t":"o"},{"c":[1,37,3],"t":"l"},{"c":[1,38,10],"t":"l"},{"c":[1,39,20],"l":1,"o":2,"t":"o"},{"c":[1,39,11],"l":2,"o":3,"t":"o"},{"c":[1,39,11],"t":"l","v":[[4,4,"\"C\""]]},{"c":[1,40,11],"t":"l","v":[[4,4,"\"C\""]]},{"c":[1,41,5],"t":"l"},{"c":[1,44,5],"t":"l"},{"c":[1,45,6],"l":3,"o":5,"t":"o"},{"c":[1,45,16],"o":[{"a":{"t":"j","v":{"flags":0,"id":0,"item_id":0,"name":"setting.device_status.get","properties":{},"response":"ok","result":true,"source":0}},"o":"cmdres","s":0,"t":"interop"}],"t":"l"},{"c":[1,40,4],"t":"l"},{"c":[1,63,4],"t":"l"},{"c":[1,64,5],"t":"l"},{"c":[1,65,5],"t":"l","v":[[4,4,"\"C\""]]},{"c":[1,66,5],"t":"l"},{"c":[1,63,4],"o":[{"a":{"t":"d","v":"23414323310D0A"},"o":"send","s":0,"t":"interop"}],"t":"l"},{"c":[1,38,10],"l":5,"o":7,"t":"o"},{"c":[1,38,10],"t":"l"},{"c":[1,24,3],"d":"494E56414C4944","o":0,"t":"n","tm":1760555535.765609},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[0]},{"c":[1,24,3],"t":"l"},{"c":[1,7,1],"t":"l","v":[3,4,5]},{"c":[1,24,3],"t":"l"},{"c":[1,37,3],"t":"l"},{"c":[1,37,3],"l":0,"m":"000024 [test-trace.pvm:37:3] in @packet: {ext} expected #; got: I","o":0,"t":"e"}],"variables":[[0,"sys/settings-merge-changed"],[2,"transport"],[3,"sys/this"],[4,"packet_type"],[5,"subject"]]}